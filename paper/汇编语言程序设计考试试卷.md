# 华中科技大学网络空间安全学院2021～2022学年第一学期“汇编语言程序设计”考试试卷(B卷)

考试方式：闭卷 考试日期：2021.10.23 考试时长：150 分钟

专业班级： 学号： 姓名：

<table><tr><td>题号</td><td>一</td><td>二</td><td>三</td><td>四</td><td>五</td><td>总分</td></tr><tr><td>分数</td><td></td><td></td><td></td><td></td><td></td><td></td></tr></table>

<table><tr><td>分数</td><td></td></tr><tr><td>评卷人</td><td></td></tr></table>

一、选择题（在每小题的四个备选答案中，选出一个正确答案，并将正确答案的序号填在题干的括号内。每小题1分，共10分）

1. 下列有关汇编语言中标号的命名规则中，错误的是（）

A. 通常由字母打头的字符、数字串组成  
B. 标号长度不能超过 31 个字符  
C. ? 和$不能单独作为标号  
D. . 号不可位于标号首

2. 关于 8086/8088 微机系列，下列说法哪个是正确的（）

A. 一个存储单元由 8 个二进制位组成, 简称字节。  
B. 当存储一个字数据时, 低字节放高地址位, 高字节放低地址位。  
C. 在内存空间中, 可以无限分配段, 且段的大小不受限制。  
D. 段与段之间可以邻接，但不可以重叠。

3. NUM EQU 1234H，寻址指令 MOV CX, NUM[BX]使用的是哪一种寻址方式（）

A. 寄存器相对寻址 B. 相对基址变址寻址 C. 变址寻址 D. 基址变址寻址

4.8086系统执行传送指令MOV时（）

A. 不影响标志位 B. 影响ZF C. 影响SF D. 影响CF

5. 若要求一个操作数中的若干位维持不变，若干位置1，可以使用（）

A. NOT

B. OR

C. AND

D. XOR

6. DATA 的定义如下：DATA DW 1234H。现想把 34H 保存到 AL 寄存器，可以实现该功能的指令是（）

A. MOV AL, BYTE PTR DATA B. MOV AL, BYTE PTR DATA+1  
C. MOV AL, HIGH DATA D. MOV AX, DATA

7. 输入字符串时，会用到以下哪一条指令？（）

A. AH=01H B. AH=02H C. AH=09H D. AH=0AH

8. 下面哪条指令不会改变指令指针寄存器IP的内容（）

A.JB B.RET C.LEA D.INT

9. 下列指令中段默认为堆栈段的是（）

A. MOV AX, [BX+SI+10]  
B. ADD AX, ES:[SI]  
C.SUB [BX], [BP][DI]  
D. MOV DX, [1000H]

10. 下列哪个寄存器是属于指针寄存器（）

A. SI

B.DX

C. SP

D. ES

<table><tr><td>得分</td><td>评卷人</td></tr><tr><td></td><td></td></tr></table>

# 二、填空题 (每空1分，共20分)

# (将正确答案按照序号填写到下表中)

<table><tr><td>①</td><td>②</td><td>③</td><td>④</td><td>⑤</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>⑥</td><td>⑦</td><td>⑧</td><td>⑨</td><td>⑩</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>⑪</td><td>⑫</td><td>⑬</td><td>⑭</td><td>⑮</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>⑯</td><td>⑰</td><td>⑱</td><td>⑲</td><td>⑳</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></table>

1. 下列程序段求数组 ARR 的平均值，结果在 AL 中。请将程序填写完整（不考虑溢出）：

DATA DW 10, -20, 30, -60, -71, 80, 79, 56, 34, -50

MOV DX, OFFSET  $\_ 1$

MOV  $2,10$

XOR AX, AX

MEAN: MOV BX, ③_

ADD AX, BX

INC DX

INC DX

LOOP MEAN

MOV  $4$  10

IDIV ⑤

2. 下面程序执行后  $\mathrm{AL} = _ { \text{一} } 6 _ { \text{一} }$  ，程序转向  $⑦$  。

```csv
MOVAL,0042H   
SUBAL,'B'   
JC L1   
JZ L2   
JMP L3
```

3. 为了实现  $\mathrm{DX.AX} = (\mathrm{V} - (\mathrm{X} \times \mathrm{Y} + \mathrm{Z} - 666)) \div \mathrm{X}, \mathrm{X}, \mathrm{Y}, \mathrm{Z}, \mathrm{V}$  是事先定义的16位带符号数+，请将下面代码补充完整：

```txt
MOV AX, X  
IMUL Y  
MOV CX, AX  
MOV BX, __8__  
MOV AX, Z  
__9__  
ADD CX, AX  
__10__ BX, DX  
SUB CX, __11__  
__12__ BX, 0  
MOV AX, V  
__13__  
SUB AX, CX  
__14__ DX, BX  
IDIV X
```

4. 下面指令序列执行后的正确结果是  $\mathrm{BX} = \_15$  。

```txt
MOV BX，OFFFCH  
MOV CL，2  
SAR BX，CL
```

5. 满足转移指令JNE的测试条件是 $_{16}$ 。  
6. 指令LOOPZ的循环执行条件是①。  
7. 从.asm 文件到.exe 文件，汇编开发过程要经历：_18、_19、_20等过程。

<table><tr><td>得分</td><td>评卷人</td></tr><tr><td></td><td></td></tr></table>

三、排错题（每小题列出了一条指令，判断该指令有无语法错误，如果存在语法错误，请指出具体的错误原因。每条2分，共10分）

<table><tr><td></td><td></td><td colspan="3"></td></tr><tr><td colspan="2">指令</td><td>有无错误</td><td colspan="2">原因</td></tr><tr><td colspan="2">MOV CS, [AX]</td><td></td><td></td><td></td></tr><tr><td colspan="2">LEA AL, mem</td><td></td><td></td><td></td></tr><tr><td colspan="2">JNE 8765H</td><td></td><td></td><td></td></tr><tr><td colspan="2">MOV [0001H], [0003H]</td><td></td><td></td><td></td></tr><tr><td colspan="2">OR AX, 0FFFFH</td><td></td><td></td><td></td></tr></table>

<table><tr><td>得分</td><td>评卷人</td></tr><tr><td></td><td></td></tr><tr><td>1. .data</td><td>20. mov bp,sp</td></tr><tr><td>2. X dw 5</td><td>21. mov ax,[bp+8]</td></tr><tr><td>3. n dw 4</td><td>22. cmp ax,0</td></tr><tr><td>4. result dw ?</td><td>23. jne calculate1</td></tr><tr><td>5. .code</td><td>24. inc ax</td></tr><tr><td>6. .startup</td><td>25. jmp calculate2</td></tr><tr><td>7. mov bx,x</td><td>26. calculate1: dec ax</td></tr><tr><td>8. push bx</td><td>27. push bx</td></tr><tr><td>9. mov bx,n</td><td>28. push ax</td></tr><tr><td>10. push bx</td><td>29. call calculate</td></tr><tr><td>11. mov bx,x</td><td>30. pop ax</td></tr><tr><td>12. call calculate</td><td>31. mul bx</td></tr><tr><td>13. pop result</td><td>32. calculate2: mov [bp+8], ax</td></tr><tr><td>14. add sp,2</td><td>33. pop bp</td></tr><tr><td>15. .exit 0</td><td>34. pop ax</td></tr><tr><td>16. calculate proc</td><td>35. pop bx</td></tr><tr><td>17. push bx</td><td>36. ret</td></tr><tr><td>18. push ax</td><td>37. calculate endp</td></tr><tr><td>19. push bp</td><td></td></tr></table>

(1) 阅读指令, 写出相关数学公式, 并说明这段程序的功能以及执行完之后 result 的值。  
(2) 程序中缺失了一段代码，找出并注明位置。  
(3) 第 36 行 ret 指令对 SP 有什么影响？  
(4) 第26至31行代码的作用是什么？

2. 阅读以下程序段，回答相关问题（本小题共计12分  $= 2 + 1 + 2 + 2 + 3 + 2$ ）。

<table><tr><td>1.</td><td>.data</td></tr><tr><td>2.</td><td>array   dw-12, 32, 22, 56, -8, 9, 65</td></tr><tr><td>3.</td><td>count = ①</td></tr><tr><td>4.</td><td>result dw?</td></tr><tr><td>5.</td><td>.code</td></tr><tr><td>6.</td><td>.startup</td></tr><tr><td>7.</td><td>mov ax,count</td></tr><tr><td>8.</td><td>push ax</td></tr><tr><td>9.</td><td>mov ax,offset array</td></tr><tr><td>10.</td><td>push ax</td></tr><tr><td>11.</td><td>call mean</td></tr><tr><td>12.</td><td>add sp,4</td></tr><tr><td>13.</td><td>mov result,ax</td></tr><tr><td>14.</td><td>_exit 0</td></tr><tr><td>15.</td><td>mean proc</td></tr><tr><td>16.</td><td>push bp</td></tr><tr><td>17.</td><td>mov bp,sp</td></tr><tr><td>18.</td><td>push bx</td></tr><tr><td>19.</td><td>push cx</td></tr><tr><td>20.</td><td>push dx</td></tr><tr><td>21.</td><td>push si</td></tr><tr><td>22.</td><td>push di</td></tr><tr><td>23.</td><td>mov bx,[bp+4]</td></tr></table>

<table><tr><td>24.</td><td>mov cx,[bp+6]</td></tr><tr><td>25.</td><td>xor si,si</td></tr><tr><td>26.</td><td>mov di,si</td></tr><tr><td>27.</td><td>mean1: mov ax,[bx]</td></tr><tr><td>28.</td><td>cwd</td></tr><tr><td>29.</td><td>②</td></tr><tr><td>30.</td><td>③</td></tr><tr><td>31.</td><td>inc bx</td></tr><tr><td>32.</td><td>loop mean1</td></tr><tr><td>33.</td><td>mov ax,si</td></tr><tr><td>34.</td><td>mov dx,di</td></tr><tr><td>35.</td><td>④</td></tr><tr><td>36.</td><td>idiv cx</td></tr><tr><td>37.</td><td>pop di</td></tr><tr><td>38.</td><td>pop si</td></tr><tr><td>39.</td><td>pop dx</td></tr><tr><td>40.</td><td>pop cx</td></tr><tr><td>41.</td><td>pop bx</td></tr><tr><td>42.</td><td>pop bp</td></tr><tr><td>43.</td><td>ret</td></tr><tr><td>44.</td><td>mean endp</td></tr></table>

(1) 说明主程序与子程序之间参数传递的方法，并说明这段程序的功能以及执行完之后 result 的值。

(2) 第12条指令的作用是什么？  
(3) ① 处的伪指令补全  
(4) 画出第19条指令执行完之后的堆栈状态。  
(5) 补齐②③④处的指令。  
(6) 找出程序中的一处错误并改正。

3. 阅读以下程序段，回答相关问题（本小题共计12分  $= 5 + 2 + 2 + 3$ ）。

1. .data  
2. disp1 db 'YES!',0dh,0ah,'$'  
 3. disp2 db 'NO!',0dh,0ah,'$'  
4. .code  
5. .startup  
6. mov ax, 0070h  
7. mov ds, ax  
8. XOR si, si  
9. mov cx,1024  
10. again: cmp [si], 'D'  
11. jne next  
12. inc si  
13. cmp [si], 'E'  
14. jne next  
15. inc si  
16. cmp [si], 'B'

17. jne next  
18. inc si  
19. cmp [si], 'U'  
20. jne next  
21. inc si  
22. cmp [si], 'G'  
23. ①  
24. next: inc si  
25. loop again  
26. no: mov dx, offset disp2  
27. jmp tsp  
28. yes: mov dx, offset disp1  
29. tsp: ②  
30. ③  
31. .exit 0  
32. end

(1) 阅读指令，画出程序流程图，说明这段程序的功能。  
(2) 第8条代码的作用是什么？  
(3) 第 12 条代码的作用是什么?  
(4) 补齐①②③处的指令。

<table><tr><td>得分</td><td>评卷人</td></tr><tr><td></td><td></td></tr></table>

# 五、程序设计题（本题包括两个小题，每小题12分，共计24分）

1. 有一个十六位二进制数:  $A = 0101110110011110$ , 编写一个程序, 将 A 转化为十六进制, 然后在屏幕上显示出来, 要求使用至少两种不同的参数传递方法。

2. 采用简化段定义格式编写以下汇编语言程序（要求画出程序流程图，各段定义完整）：使用键盘输入5个有符号十进制数，并显示。输入时，负数用“-”引导，正数直接输入或用“+”引导。