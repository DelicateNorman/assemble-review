# 汇编语言程序设计期末考试试题

**考试时间：** 120分钟
**总分：** 100分

---

## 一、单选题（10道题，每题2分，共20分）

**请将正确答案的选项填入题号前的括号内。**

1. **( )** 在8086微处理器中，下列哪个寄存器不能用LEA指令加载其值？
   A. AX
   B. BX
   C. SI
   D. IP

2. **( )** 8086CPU中，用于存放指令指针的寄存器是：
   A. SP
   B. BP
   C. IP
   D. CS

3. **( )** 执行指令MOV AX, [BX+SI+6]时，操作数的物理地址计算方式为：
   A. CS×16 + BX + SI + 6
   B. DS×16 + BX + SI + 6
   C. SS×16 + BX + SI + 6
   D. ES×16 + BX + SI + 6

4. **( )** 下列哪个存储器寻址方式中，操作数的段地址默认在SS段？
   A. [BX]
   B. [SI]
   C. [BP]
   D. [DI]

5. **( )** 在简化段定义格式中，用于定义数据段的伪指令是：
   A. .CODE
   B. .DATA
   C. .STACK
   D. .MODEL

6. **( )** 执行指令SHL AX, 1后，如果AX的值为8000H，则标志位CF和OF的状态是：
   A. CF=0, OF=0
   B. CF=0, OF=1
   C. CF=1, OF=0
   D. CF=1, OF=1

7. **( )** 下列指令中，不影响任何标志位的是：
   A. ADD AX, BX
   B. INC CX
   C. MOV DX, AX
   D. SUB SI, 1

8. **( )** 在8086指令系统中，用于实现无条件转移的指令是：
   A. JZ
   B. JC
   C. JMP
   D. LOOP

9. **( )** 堆栈操作指令PUSH执行后，堆栈指针SP的变化是：
   A. SP ← SP + 1
   B. SP ← SP + 2
   C. SP ← SP - 1
   D. SP ← SP - 2

10. **( )** 下列关于子程序调用和返回的说法中，正确的是：
    A. CALL指令将返回地址压入堆栈，RET指令从堆栈弹出返回地址
    B. CALL指令将返回地址存入IP，RET指令从IP获取返回地址
    C. CALL指令和RET指令都不影响堆栈
    D. CALL指令只影响IP寄存器，不影响堆栈

---

## 二、填空题（10个，每空2分，共20分）

1. 8086CPU的寄存器组中，AX寄存器可以分为______和______两个8位寄存器。

2. 在逻辑地址到物理地址的转换中，物理地址 = ______ × 16 + ______。

3. 8086CPU的标志寄存器FLAGS中，CF表示______标志，ZF表示______标志。

4. 在MASM简化段定义格式中，.STACK伪指令用于定义______段，.CODE伪指令用于定义______段。

5. 执行指令MOV AX, 1234H后，AX寄存器的内容为______H，执行指令ADD AX, 0F000H后，如果产生进位，则CF=______。

6. 串操作指令MOVSB的功能是将DS:[SI]的内容传送到______，同时SI和DI会自动______。

7. 子程序参数传递的三种主要方式是：______传递、变量传递和______传递。

8. 在PE文件格式中，文件头包含______头和可选头，在ELF文件格式中，文件头包含ELF头和______头。

9. 基于反汇编语言的程序逻辑分析中，需要重点分析程序的______逻辑、______逻辑和数据流。

10. 在汇编语言程序开发过程中，源程序文件扩展名为.asm，汇编后生成的目标文件扩展名为______，连接后生成的可执行文件扩展名为______。

---

## 三、指令正确与错误判断题（5条指令，每条2分，共10分）

**请判断下列指令是否正确，错误的指令请指出错误原因。**

1. `MOV CS, AX`
   - 判断：______
   - 错误原因（如错误）：______

2. `ADD [SI], [DI]`
   - 判断：______
   - 错误原因（如错误）：______

3. `PUSH AL`
   - 判断：______
   - 错误原因（如错误）：______

4. `JMP BX`
   - 判断：______
   - 错误原因（如错误）：______

5. `MOV DS, 1000H`
   - 判断：______
   - 错误原因（如错误）：______

---

## 四、简答题（2题，每题8分，共16分）

1. **请简述8086CPU的寄存器分类，并说明各类寄存器的主要功能。**

2. **请简述汇编语言程序的开发过程，包括编辑、汇编、连接和调试各个阶段的主要任务。**

---

## 五、程序阅读题（4段代码，每题5分，共20分）

**请补全下列代码片段中缺失的指令或操作数，并分析代码段的作用。**

### 1. 数据传送程序（5分）

```assembly
.model small
.stack 100h
.data
source db 'Hello World$'
dest   db 12 dup(?)
.code
startup
    mov ax, @data
    mov ds, ax
    mov es, ax
    lea si, ______    ; 指向源数据
    lea di, ______    ; 指向目标缓冲区
    mov cx, ______    ; 设置传送长度
    cld               ; 设置地址增量方向
    rep ______        ; 重复传送字符串
    mov dx, offset dest
    mov ah, 9
    int 21h           ; 显示传送后的字符串
    exit 0
end
```

**代码段作用：** ________________________________________________

### 2. 数组求和程序（5分）

```assembly
.model small
.stack 100h
.data
array dw 10, 20, 30, 40, 50
count equ ($-array)/2
sum   dw ?
.code
startup
    mov ax, @data
    mov ds, ax
    xor ax, ax         ; 清零累加器
    mov cx, ______     ; 设置循环次数
    lea bx, ______     ; 指向数组首地址
again:
    add ax, ______     ; 累加数组元素
    inc bx
    inc bx
    loop again
    mov ______, ax     ; 保存求和结果
    exit 0
end
```

**代码段作用：** ________________________________________________

### 3. 字符转换程序（5分）

```assembly
.model small
.stack 100h
.data
char   db 'A'
result db ?
.code
startup
    mov ax, @data
    mov ds, ax
    mov al, ______     ; 取字符
    cmp al, 'A'
    jb done
    cmp al, 'Z'
    ja done
    add al, ______     ; 转换为小写字母
done:
    mov ______, al     ; 保存结果
    exit 0
end
```

**代码段作用：** ________________________________________________

### 4. 分支判断程序（5分）

```assembly
.model small
.stack 100h
.data
num   dw -15
msg1  db 'Positive$'
msg2  db 'Negative$'
.code
startup
    mov ax, @data
    mov ds, ax
    mov ax, ______     ; 取数值
    ______ ax, 0       ; 判断正负
    jge positive       ; 大于等于0转移
    mov dx, offset msg2
    jmp display
positive:
    mov dx, offset msg1
display:
    mov ah, ______     ; 显示字符串
    int 21h
    exit 0
end
```

**代码段作用：** ________________________________________________

---

## 六、程序设计题（14分）

**请使用简化段格式设计一个16位汇编程序，要求如下：**

**题目：** 设计一个程序，从键盘输入5个有符号十进制数，找出其中的最大值和最小值，并将结果显示在屏幕上。

**具体要求：**
1. 使用简化段定义格式（.model small, .stack, .data, .code）
2. 程序包含输入功能：调用子程序从键盘读取有符号数
3. 程序包含比较功能：找出5个数中的最大值和最小值
4. 程序包含输出功能：将最大值和最小值以十进制形式显示
5. 使用子程序结构，包含输入子程序和输出子程序
6. 添加必要的注释说明程序功能

**请在下方设计完整的汇编程序代码：**

```assembly
; 请在此处编写完整的汇编程序代码


```